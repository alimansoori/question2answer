(function(){CKEDITOR.plugins.add("grid",{lang:"en,ru,fr,nl",requires:"widget,dialog",icons:"grid",init:function(b){var e=b.lang.grid;CKEDITOR.dialog.add("grid",this.path+"dialogs/grid.js");b.addContentsCss(this.path+"styles/editor.css");b.ui.addButton("grid",{label:e.createGrid,command:"grid",icon:this.path+"icons/grid.png"});b.widgets.add("grid",{allowedContent:"div(!flex-container);div(!row,!row-*);div(!col-*-*);div(!content)",requiredContent:"div(flex-container)",parts:{grid:"div.flex-container"},
editables:{content:""},template:'\x3cdiv class\x3d"flex-container"\x3e\x3c/div\x3e',dialog:"grid",defaults:{},upcast:function(a){return"div"==a.name&&a.hasClass("flex-container")},init:function(){var a=1,b=this.element.getChildCount();for(a;a<=b;a++)this.createEditable(12,a)},data:function(){this.data.colCount&&1>this.element.getChildCount()&&this.createGrid(this.data.colCount,this.parts.grid,1)},createGrid:function(a,b,c){for(var f="",e=Math.round(100/a),d=1;d<=a;d++)f=f+'\x3cdiv class\x3d"content content-'+
d+'" style\x3d"width: '+e+'%;"\x3e    \x3cp\x3eCol '+d+" content area\x3c/p\x3e\x3c/div\x3e";b.appendHtml(f);this.createEditable(a,c)},createEditable:function(a,b){for(var c=1;c<=a;c++)this.initEditable("content-"+c,{selector:"div.content.content-"+c})}})}})})();